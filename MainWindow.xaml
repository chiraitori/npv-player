<Window x:Class="NpvPlayer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NpvPlayer"
        xmlns:wf="clr-namespace:System.Windows.Forms;assembly=System.Windows.Forms"
        mc:Ignorable="d"
        Title="NpvPlayer - MPV Video Player" Height="450" Width="800"
        Closing="Window_Closing"
        KeyDown="Window_KeyDown"
        AllowDrop="True"
        Drop="Window_Drop"
        DragOver="Window_DragOver">
    <Window.Resources>
        <Style TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#333333"/>
            <Setter Property="Margin" Value="2"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontFamily" Value="Segoe MDL2 Assets"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#E0E0E0"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#CCCCCC"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <!-- Custom Slider Style (no triangles) -->
        <Style x:Key="SeekSliderStyle" TargetType="Slider">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Slider">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto" MinHeight="{TemplateBinding MinHeight}"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Track x:Name="PART_Track" Grid.Row="1">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="Slider.DecreaseLarge" Background="#FF6600" Height="4" BorderThickness="0">
                                        <RepeatButton.Template>
                                            <ControlTemplate TargetType="RepeatButton">
                                                <Border Background="{TemplateBinding Background}" Height="4" CornerRadius="2"/>
                                            </ControlTemplate>
                                        </RepeatButton.Template>
                                    </RepeatButton>
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="Slider.IncreaseLarge" Background="#CCCCCC" Height="4" BorderThickness="0">
                                        <RepeatButton.Template>
                                            <ControlTemplate TargetType="RepeatButton">
                                                <Border Background="{TemplateBinding Background}" Height="4" CornerRadius="2"/>
                                            </ControlTemplate>
                                        </RepeatButton.Template>
                                    </RepeatButton>
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb x:Name="Thumb" Width="12" Height="12">
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="Thumb">
                                                <Ellipse Fill="White" Stroke="#999999" StrokeThickness="1"/>
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style TargetType="Menu">
            <Setter Property="Background" Value="#F0F0F0"/>
            <Setter Property="Foreground" Value="Black"/>
        </Style>
        <Style TargetType="MenuItem">
            <Setter Property="Background" Value="#F0F0F0"/>
            <Setter Property="Foreground" Value="Black"/>
        </Style>
    </Window.Resources>

    <Grid x:Name="MainGrid" Background="#F0F0F0">
        <Grid.RowDefinitions>
            <RowDefinition x:Name="MenuRow" Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition x:Name="ControlsRow" Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Menu Bar -->
        <Menu x:Name="MainMenu" Grid.Row="0" Padding="2">
            <MenuItem Header="_Media">
                <MenuItem Header="_Open File..." Click="MenuOpenFile_Click" InputGestureText="Ctrl+O"/>
                <MenuItem Header="Open _Multiple Files..." Click="MenuOpenMultipleFiles_Click" InputGestureText="Ctrl+Shift+O"/>
                <MenuItem Header="Open _Folder..." Click="MenuOpenFolder_Click" InputGestureText="Ctrl+F"/>
                <Separator/>
                <MenuItem Header="Open _Disc..." Click="MenuOpenDisc_Click" InputGestureText="Ctrl+D"/>
                <MenuItem Header="Open _Network Stream..." Click="MenuOpenUrl_Click" InputGestureText="Ctrl+N"/>
                <MenuItem Header="Open _Capture Device..." Click="MenuOpenCaptureDevice_Click" InputGestureText="Ctrl+C"/>
                <MenuItem Header="Open _Location from clipboard" Click="MenuOpenClipboard_Click" InputGestureText="Ctrl+V"/>
                <Separator/>
                <MenuItem Header="Open _Recent Media" x:Name="MenuRecentMedia" SubmenuOpened="MenuRecentMedia_SubmenuOpened">
                    <MenuItem Header="(No recent items)" IsEnabled="False"/>
                </MenuItem>
                <Separator/>
                <MenuItem Header="_Save Playlist to File..." Click="MenuSavePlaylist_Click" InputGestureText="Ctrl+Y"/>
                <Separator/>
                <MenuItem Header="Add Subtitle File..." Click="MenuAddSubtitle_Click"/>
                <MenuItem Header="Add Audio File..." Click="MenuAddAudio_Click"/>
                <Separator/>
                <MenuItem Header="Media _Information" Click="MenuMediaInfo_Click" InputGestureText="Ctrl+I"/>
                <Separator/>
                <MenuItem Header="_Quit at the end of playlist" x:Name="MenuQuitAtEnd" IsCheckable="True"/>
                <MenuItem Header="Q_uit" Click="MenuQuit_Click" InputGestureText="Ctrl+Q"/>
            </MenuItem>
            <MenuItem Header="_Playback">
                <MenuItem Header="Play" Click="BtnPlay_Click" InputGestureText="Space"/>
                <MenuItem Header="Pause" Click="BtnPause_Click"/>
                <MenuItem Header="Stop" Click="BtnStop_Click"/>
                <Separator/>
                <MenuItem Header="Previous Frame" Click="MenuPrevFrame_Click" InputGestureText=","/>
                <MenuItem Header="Next Frame" Click="MenuNextFrame_Click" InputGestureText="."/>
                <Separator/>
                <MenuItem Header="Jump Forward 10s" Click="MenuJumpForward_Click" InputGestureText="→"/>
                <MenuItem Header="Jump Backward 10s" Click="MenuJumpBackward_Click" InputGestureText="←"/>
                <MenuItem Header="Jump Forward 1min" Click="MenuJumpForwardLarge_Click" InputGestureText="Ctrl+→"/>
                <MenuItem Header="Jump Backward 1min" Click="MenuJumpBackwardLarge_Click" InputGestureText="Ctrl+←"/>
                <Separator/>
                <MenuItem Header="Speed">
                    <MenuItem Header="0.25x" Click="MenuSpeed025_Click"/>
                    <MenuItem Header="0.5x" Click="MenuSpeed05_Click"/>
                    <MenuItem Header="0.75x" Click="MenuSpeed075_Click"/>
                    <MenuItem Header="Normal (1.0x)" Click="MenuSpeed1_Click"/>
                    <MenuItem Header="1.25x" Click="MenuSpeed125_Click"/>
                    <MenuItem Header="1.5x" Click="MenuSpeed15_Click"/>
                    <MenuItem Header="2.0x" Click="MenuSpeed2_Click"/>
                </MenuItem>
                <Separator/>
                <MenuItem x:Name="MenuLoop" Header="Loop" Click="MenuLoop_Click" IsCheckable="True"/>
            </MenuItem>
            <MenuItem Header="Audio">
                <MenuItem x:Name="MenuAudioTrack" Header="Audio Track" SubmenuOpened="MenuAudioTrack_SubmenuOpened">
                    <MenuItem Header="(No media loaded)"/>
                </MenuItem>
                <MenuItem Header="Cycle Audio Track" Click="MenuCycleAudio_Click" InputGestureText="A"/>
                <Separator/>
                <MenuItem Header="Mute" Click="MenuMute_Click" InputGestureText="M" x:Name="MenuMute" IsCheckable="True"/>
                <Separator/>
                <MenuItem Header="Volume Up" Click="MenuVolumeUp_Click" InputGestureText="↑"/>
                <MenuItem Header="Volume Down" Click="MenuVolumeDown_Click" InputGestureText="↓"/>
                <Separator/>
                <MenuItem Header="Audio Delay">
                    <MenuItem Header="Delay +100ms" Click="MenuAudioDelayPlus_Click"/>
                    <MenuItem Header="Delay -100ms" Click="MenuAudioDelayMinus_Click"/>
                    <MenuItem Header="Reset Delay" Click="MenuAudioDelayReset_Click"/>
                </MenuItem>
            </MenuItem>
            <MenuItem Header="Video">
                <MenuItem Header="Aspect Ratio">
                    <MenuItem Header="Default" Click="MenuAspectDefault_Click"/>
                    <MenuItem Header="16:9" Click="MenuAspect169_Click"/>
                    <MenuItem Header="4:3" Click="MenuAspect43_Click"/>
                    <MenuItem Header="21:9" Click="MenuAspect219_Click"/>
                    <MenuItem Header="1:1" Click="MenuAspect11_Click"/>
                </MenuItem>
                <Separator/>
                <MenuItem Header="Rotate">
                    <MenuItem Header="Reset" Click="MenuRotate0_Click"/>
                    <MenuItem Header="90°" Click="MenuRotate90_Click"/>
                    <MenuItem Header="180°" Click="MenuRotate180_Click"/>
                    <MenuItem Header="270°" Click="MenuRotate270_Click"/>
                </MenuItem>
                <Separator/>
                <MenuItem Header="Zoom">
                    <MenuItem Header="Reset" Click="MenuZoomReset_Click"/>
                    <MenuItem Header="Zoom In" Click="MenuZoomIn_Click"/>
                    <MenuItem Header="Zoom Out" Click="MenuZoomOut_Click"/>
                </MenuItem>
                <Separator/>
                <MenuItem Header="Take Screenshot" Click="MenuScreenshot_Click" InputGestureText="S"/>
            </MenuItem>
            <MenuItem Header="Subtitle">
                <MenuItem x:Name="MenuSubTrack" Header="Sub Track" SubmenuOpened="MenuSubTrack_SubmenuOpened">
                    <MenuItem Header="(No media loaded)"/>
                </MenuItem>
                <Separator/>
                <MenuItem Header="Add Subtitle File..." Click="MenuAddSubtitle_Click"/>
                <Separator/>
                <MenuItem Header="Subtitle Delay">
                    <MenuItem Header="Delay +100ms" Click="MenuSubDelayPlus_Click"/>
                    <MenuItem Header="Delay -100ms" Click="MenuSubDelayMinus_Click"/>
                    <MenuItem Header="Reset Delay" Click="MenuSubDelayReset_Click"/>
                </MenuItem>
            </MenuItem>
            <MenuItem Header="Tools">
                <MenuItem Header="Preferences..." Click="MenuPreferences_Click"/>
            </MenuItem>
            <MenuItem Header="View">
                <MenuItem Header="Fullscreen" Click="MenuFullscreen_Click" InputGestureText="F"/>
                <Separator/>
                <MenuItem x:Name="MenuAlwaysOnTop" Header="Always on Top" Click="MenuAlwaysOnTop_Click" IsCheckable="True"/>
            </MenuItem>
            <MenuItem Header="Help">
                <MenuItem Header="Keyboard Shortcuts" Click="MenuShortcuts_Click"/>
                <Separator/>
                <MenuItem Header="About" Click="MenuAbout_Click"/>
            </MenuItem>
        </Menu>

        <!-- Main Content Area -->
        <Grid x:Name="ContentArea" Grid.Row="1" Background="#F0F0F0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition x:Name="SidebarColumn" Width="200"/>
                <ColumnDefinition x:Name="SplitterColumn" Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Sidebar -->
            <Border x:Name="SidebarPanel" Grid.Column="0" Background="White" BorderBrush="#FFD0D0D0" BorderThickness="0,0,1,0">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="Playlist" FontWeight="Bold" Margin="10,10,0,5" Foreground="#333333"/>
                        <TreeView BorderThickness="0" Background="Transparent">
                            <TreeViewItem Header="Playlist" IsSelected="True" Foreground="#333333"/>
                            <TreeViewItem Header="Media Library" Foreground="#333333"/>
                        </TreeView>

                        <TextBlock Text="My Computer" FontWeight="Bold" Margin="10,10,0,5" Foreground="#333333"/>
                        <TreeView BorderThickness="0" Background="Transparent">
                            <TreeViewItem Header="My Videos" Foreground="#333333"/>
                            <TreeViewItem Header="My Music" Foreground="#333333"/>
                            <TreeViewItem Header="My Pictures" Foreground="#333333"/>
                        </TreeView>

                        <TextBlock Text="Devices" FontWeight="Bold" Margin="10,10,0,5" Foreground="#333333"/>
                        <TreeView BorderThickness="0" Background="Transparent">
                            <TreeViewItem Header="Discs" Foreground="#333333"/>
                        </TreeView>

                        <TextBlock Text="Local Network" FontWeight="Bold" Margin="10,10,0,5" Foreground="#333333"/>
                        <TreeView BorderThickness="0" Background="Transparent">
                            <TreeViewItem Header="Universal Plug'n'Play" Foreground="#333333"/>
                            <TreeViewItem Header="Network streams (SAP)" Foreground="#333333"/>
                        </TreeView>

                        <TextBlock Text="Internet" FontWeight="Bold" Margin="10,10,0,5" Foreground="#333333"/>
                        <TreeView BorderThickness="0" Background="Transparent">
                            <TreeViewItem Header="Podcasts" Foreground="#333333"/>
                            <TreeViewItem Header="Jamendo Selections" Foreground="#333333"/>
                            <TreeViewItem Header="Icecast Radio Directory" Foreground="#333333"/>
                        </TreeView>
                    </StackPanel>
                </ScrollViewer>
            </Border>

            <!-- Splitter -->
            <GridSplitter x:Name="SidebarSplitter" Grid.Column="1" Width="3" HorizontalAlignment="Center" VerticalAlignment="Stretch" Background="#F0F0F0"/>

            <!-- Content Area -->
            <Grid Grid.Column="2">
                <!-- Playlist View (with Sidebar) -->
                <Grid x:Name="PlaylistView" Visibility="Visible" Background="White">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Playlist Header -->
                    <DockPanel Grid.Row="0" LastChildFill="False" Background="White">
                        <TextBlock Text="Playlist" FontWeight="Bold" Margin="10,5"/>
                        <TextBox Width="200" DockPanel.Dock="Right" Margin="5" Text="Search" Foreground="Gray"/>
                    </DockPanel>
                    
                    <!-- Playlist Columns Header -->
                    <Grid Grid.Row="0" VerticalAlignment="Bottom" Background="#F0F0F0" Height="25">
                         <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="150"/>
                        </Grid.ColumnDefinitions>
                        <Border BorderBrush="#D0D0D0" BorderThickness="0,0,1,1" Padding="5,0">
                            <TextBlock Text="Title" VerticalAlignment="Center"/>
                        </Border>
                        <Border Grid.Column="1" BorderBrush="#D0D0D0" BorderThickness="0,0,1,1" Padding="5,0">
                            <TextBlock Text="Duration" VerticalAlignment="Center"/>
                        </Border>
                        <Border Grid.Column="2" BorderBrush="#D0D0D0" BorderThickness="0,0,0,1" Padding="5,0">
                            <TextBlock Text="Album" VerticalAlignment="Center"/>
                        </Border>
                    </Grid>

                    <!-- Empty State Content -->
                    <Grid Grid.Row="1">
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Border BorderThickness="3" BorderBrush="Gray" CornerRadius="10" Width="100" Height="100" Margin="0,0,0,10" SnapsToDevicePixels="True">
                                <TextBlock Text="&#xE896;" FontFamily="Segoe MDL2 Assets" FontSize="48" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="Gray"/>
                            </Border>
                            <TextBlock Text="Playlist is currently empty." HorizontalAlignment="Center" Foreground="#333333"/>
                            <TextBlock Text="Drop a file here or select a media source from the left." HorizontalAlignment="Center" Foreground="Gray" FontSize="11"/>
                        </StackPanel>
                    </Grid>
                </Grid>

                <!-- Logo View (No Sidebar, Black Background) -->
                <Grid x:Name="LogoView" Visibility="Hidden" Background="Black">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <!-- NpvPlayer Logo -->
                        <TextBlock Text="&#xE714;" FontFamily="Segoe MDL2 Assets" FontSize="80" 
                                   Foreground="#FF6600" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                        <TextBlock Text="NpvPlayer" FontSize="24" FontWeight="Bold" 
                                   Foreground="White" HorizontalAlignment="Center"/>
                        <TextBlock Text="Drop a file or press Ctrl+O to open" FontSize="12" 
                                   Foreground="Gray" HorizontalAlignment="Center" Margin="0,5,0,0"/>
                    </StackPanel>
                </Grid>

                <!-- Video Display Area - MPV Player Host -->
                <WindowsFormsHost x:Name="PlayerHostContainer" Visibility="Hidden" Background="Black">
                    <wf:Panel x:Name="PlayerHost" BackColor="Black"/>
                </WindowsFormsHost>
            </Grid>
        </Grid>

        <!-- Control Bar -->
        <Grid x:Name="ControlBar" Grid.Row="2" Background="#F0F0F0" Height="65">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Seek Bar -->
            <Grid Grid.Row="0" Margin="5,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock x:Name="lblCurrentTime" Text="00:00" Foreground="#333333" VerticalAlignment="Center" Margin="5,0" FontSize="11"/>
                
                <!-- Custom Timeline -->
                <Grid Grid.Column="1" VerticalAlignment="Center" Margin="5,0">
                    <!-- Track Background (gray) -->
                    <Border x:Name="SeekTrackBackground" Background="#CCCCCC" Height="4" CornerRadius="2" VerticalAlignment="Center" SizeChanged="SeekTrackBackground_SizeChanged"/>
                    
                    <!-- Progress Fill (orange) -->
                    <Border x:Name="SeekTrackFill" Background="#FF6600" Height="4" CornerRadius="2" HorizontalAlignment="Left" VerticalAlignment="Center" Width="0"/>
                    
                    <!-- Thumb -->
                    <Canvas x:Name="ThumbCanvas" VerticalAlignment="Center" Height="14">
                        <Ellipse x:Name="SeekThumb" Width="12" Height="12" Fill="White" Stroke="#999999" StrokeThickness="1" Canvas.Top="1" Canvas.Left="0"/>
                    </Canvas>
                    
                    <!-- Clickable overlay -->
                    <Border Background="Transparent" MouseLeftButtonDown="SeekBar_MouseLeftButtonDown" MouseLeftButtonUp="SeekBar_MouseLeftButtonUp" MouseMove="SeekBar_MouseMove" Cursor="Hand"/>
                    
                    <!-- OP/ED Markers Canvas -->
                    <Canvas x:Name="MarkerCanvas" Height="20" VerticalAlignment="Bottom" IsHitTestVisible="False">
                        <Polygon x:Name="OpMarker" Points="0,8 4,0 8,8" Fill="#FF6600" Stroke="#CC5500" StrokeThickness="1" Visibility="Hidden" ToolTip="End of Opening (1:30)" Canvas.Top="0"/>
                        <Polygon x:Name="EdMarker" Points="0,8 4,0 8,8" Fill="#FF6600" Stroke="#CC5500" StrokeThickness="1" Visibility="Hidden" ToolTip="Start of Ending" Canvas.Top="0"/>
                    </Canvas>
                    
                    <!-- Hidden slider for compatibility -->
                    <Slider x:Name="sliProgress" Visibility="Collapsed" Thumb.DragStarted="sliProgress_DragStarted" Thumb.DragCompleted="sliProgress_DragCompleted" ValueChanged="sliProgress_ValueChanged"/>
                </Grid>
                
                <TextBlock x:Name="lblTotalTime" Grid.Column="2" Text="00:00" Foreground="#333333" VerticalAlignment="Center" Margin="5,0" FontSize="11"/>
            </Grid>

            <!-- Buttons -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Playback Controls -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="5,0">
                    <Button x:Name="BtnPlay" Content="&#xE768;" Click="BtnPlay_Click" ToolTip="Play"/>
                    <Button x:Name="BtnPrevious" Content="&#xE892;" Click="BtnPrevious_Click" ToolTip="Previous"/>
                    <Button x:Name="BtnStop" Content="&#xE71A;" Click="BtnStop_Click" ToolTip="Stop"/>
                    <Button x:Name="BtnNext" Content="&#xE893;" Click="BtnNext_Click" ToolTip="Next"/>
                    <Button x:Name="BtnSkipOP" Content="&#xE892;" Click="BtnSkipOP_Click" ToolTip="Skip Opening (90s)" Width="Auto" FontFamily="Segoe UI" FontSize="11" Padding="6,0">
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <TextBlock Text="Skip OP" FontFamily="Segoe UI" FontSize="11"/>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>
                    <Button x:Name="BtnSkipED" Content="&#xE893;" Click="BtnSkipED_Click" ToolTip="Skip to End (Skip Ending)" Width="Auto" FontFamily="Segoe UI" FontSize="11" Padding="6,0">
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <TextBlock Text="Skip ED" FontFamily="Segoe UI" FontSize="11"/>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>
                    <Button x:Name="BtnFullscreenCrop" Content="&#xE740;" Click="BtnFullscreenCrop_Click" ToolTip="Fullscreen/Crop"/>
                    <Button x:Name="BtnEqualizer" Content="&#xE9E9;" Click="BtnEqualizer_Click" ToolTip="Equalizer"/>
                    <Button x:Name="BtnPlaylist" Content="&#xE8FD;" Click="BtnPlaylist_Click" ToolTip="Playlist"/>
                    <Button x:Name="BtnLoop" Content="&#xE8EE;" Click="BtnLoop_Click" ToolTip="Loop"/>
                    <Button x:Name="BtnShuffle" Content="&#xE8B1;" Click="BtnShuffle_Click" ToolTip="Shuffle"/>
                </StackPanel>

                <!-- Volume Control -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="10,0">
                    <Button x:Name="BtnMute" Content="&#xE767;" Click="BtnMute_Click" ToolTip="Volume" Width="Auto" Padding="5,0" Background="Transparent"/>
                    <Slider x:Name="sliVolume" Width="80" VerticalAlignment="Center" Minimum="0" Maximum="1" Value="0.5" ValueChanged="sliVolume_ValueChanged" IsMoveToPointEnabled="True" PreviewMouseLeftButtonUp="sliVolume_PreviewMouseLeftButtonUp"/>
                    <TextBlock x:Name="lblVolume" Text="50%" Foreground="#333333" VerticalAlignment="Center" Margin="5,0" FontSize="11" MinWidth="35"/>
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>
</Window>
